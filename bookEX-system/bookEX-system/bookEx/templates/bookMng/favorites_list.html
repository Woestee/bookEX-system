{% extends "base.html" %}
{% load static %}

{% block sidenav %}
   {% for item in item_list %}
      <li>
        <a href="{{ item.link }}">{{ item.item }}</a>
      </li>
   {% endfor %}

   {% if user.is_authenticated %}
      <li><a href="{% url 'favorites_list' %}">My Favorites</a></li>
   {% else %}
      <li>You must be logged in</li>
   {% endif %}
{% endblock sidenav %}


{% block content %}
   <h1>My Favorite Books</h1>

   <div class="book-list">
      {% for book in books %}
         <div class="book-card">
            <h3 class="book-title">
               <a href="{% url 'book_detail' book.id %}">{{ book.name }}</a>
            </h3>

            <p class="book-meta">
                <strong>Price:</strong> ${{ book.price }}<br>
                <strong>Posted by:</strong> {{ book.username }}
            </p>

            <div class="book-actions">
                <a href="{% url 'book_detail' book.id %}" class="btn btn-outline">View</a>
                <a href="{% url 'remove_from_favorites' book.id %}" class="btn btn-secondary">
                    Remove from Favorites
                </a>
            </div>
         </div>
      {% empty %}
         <p>You donâ€™t have any favorite books yet.</p>
      {% endfor %}
   </div>
{% endblock content %}
